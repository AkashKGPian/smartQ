<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Find a Hospital | SmartQ</title>
</head>
<body>

  <h1>üîç Find a Hospital / Clinic</h1>

  <form class="search-bar" method="GET" action="/store">
    <input type="text" name="search" placeholder="Search by name or address‚Ä¶" value="<%= search %>" />
    <select name="type">
      <option value="">All Types</option>
      <option value="HOSPITAL"  <%= type === 'HOSPITAL'  ? 'selected' : '' %>>Hospital</option>
      <option value="CLINIC"    <%= type === 'CLINIC'    ? 'selected' : '' %>>Clinic</option>
      <option value="PHARMACY"  <%= type === 'PHARMACY'  ? 'selected' : '' %>>Pharmacy</option>
    </select>
    <button type="submit">Search</button>
  </form>

  <% if (stores.length === 0) { %>
    <p class="no-results">No stores found. Try a different search.</p>
  <% } else { %>
    <div class="results">
      <% stores.forEach(store => { %>
        <div class="card">
          <span class="type"><%= store.type %></span>
          <h3><%= store.name %></h3>
          <p><%= store.address || 'No address listed' %></p>
          <a href="/store/<%= store._id %>">View &amp; Join Queue ‚Üí</a>
        </div>
      <% }) %>
    </div>
  <% } %>

</body>
</html>
